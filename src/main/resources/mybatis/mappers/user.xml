<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="user">

	<!-- 쿼리문 작성 -->
	<select id="login" resultType="UserVo">
	<![CDATA[
		select userNo,
			   name,
			   id,
			   nickName
		from users
		where id = #{id} and password = #{password}
	]]>
	</select>
	
	<!-- 회원정보 가져오기: 회원 가입 - 아이디 체크 -->
	<select id="selectById" parameterType="string" resultType="UserVo">
		<![CDATA[
			select  userNo,
			        id,
			        name
			from users
			where id = #{id}
		]]>
	</select>
	
<!-- 	"ID" VARCHAR2(20 BYTE), 
	"PASSWORD" VARCHAR2(20 BYTE), 
	"NAME" VARCHAR2(20 BYTE), 
	"EMAIL" VARCHAR2(50 BYTE), 
	"GENDER" VARCHAR2(10 BYTE), 
	"NICKNAME" VARCHAR2(20 BYTE), 
	"JOINDATE" DATE, 
	"PROFILEIMG" VARCHAR2(1000 BYTE), 
	"POINT" NUMBER default 0, 
	"TODAYVISIT" NUMBER default 0, 
	"TOTALVISIT" NUMBER default 0
        
	 -->
	<!-- 회원가입 -->
	<insert id="insertJoin" parameterType="UserVo">
		<![CDATA[
		insert into users
		VALUES(seq_users_no.nextval,
				#{id},
				#{password},
				#{name},
				#{email},
				#{gender},
				#{nickName},
				sysdate,
				#{profileImg},
				default,
				default,
				default)		
		]]>
	</insert>
	
</mapper>
