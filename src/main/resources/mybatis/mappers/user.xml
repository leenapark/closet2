<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="user">

	<!-- 쿼리문 작성 -->
	<select id="login" resultType="UserVo">
	<![CDATA[
		select userNo,
			   name,
			   id,
			   nickName
		from users
		where id = #{id} and password = #{password}
	]]>
	</select>
	
	<!-- 회원정보 가져오기: 회원 가입 - 아이디 체크 -->
	<select id="selectById" parameterType="string" resultType="UserVo">
		<![CDATA[
			select  userNo,
			        id,
			        name
			from users
			where id = #{id}
		]]>
	</select>
	
<!-- 	userNo, /* 회원식별번호 */
        id, /* 아이디 */
        password, /* 비밀번호 */
        name, /* 이름 */
        email, /* 이메일 */
        gender, /* 성별 */
        nickName, /* 별명 */
        joinDate, /* 가입일 */
        profileImg varchar2(1000), /* 프로필이미지 */
	todayVisit NUMBER NOT NULL, /* 오늘방문자 */
	totalVisit NUMBER NOT NULL, /* 총 방문자 */
        
	 -->
	<!-- 회원가입 -->
	<insert id="insertJoin" parameterType="UserVo">
		<![CDATA[
		insert into users
		VALUES(seq_users_no.nextval,
				#{id},
				#{password},
				#{name},
				#{email},
				#{gender},
				#{nickName},
				sysdate,
				#{profileImg},
				default,
				default)		
		]]>
	</insert>
	
</mapper>
